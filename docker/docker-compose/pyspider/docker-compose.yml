phantomjs:
  image: binux/pyspider:latest
  command: phantomjs
result:
  image: binux/pyspider:latest
  external_links:
    - mysql_mysql_1:mysql
    - rabbitmq_rabbitmq_1:rabbitmq
  command: result_worker
processor:
  image: binux/pyspider:latest
  external_links:
    - mysql_mysql_1:mysql
    - rabbitmq_rabbitmq_1:rabbitmq
  command: processor
fetcher:
  image: binux/pyspider:latest
  external_links:
    - rabbitmq_rabbitmq_1:rabbitmq
  links:
    - phantomjs
  command : fetcher
scheduler:
  image: binux/pyspider:latest
  external_links:
    - mysql_mysql_1:mysql
    - rabbitmq_rabbitmq_1:rabbitmq
  command: scheduler
webui:
  image: binux/pyspider:latest
  external_links:
    - mysql_mysql_1:mysql
    - rabbitmq_rabbitmq_1:rabbitmq
  links:
    - scheduler
    - phantomjs
  command: webui
  ports:
    - "5000:5000"